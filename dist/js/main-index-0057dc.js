(()=>{"use strict";function e(e,t){e.addEventListener("click",(()=>{t.style.display="flex"}))}const t=()=>fetch("https://www.thecocktaildb.com/api/json/v1/1/filter.php?a=Alcoholic").then((e=>e.json())).then((e=>e.drinks)),n=(e,t)=>{e.innerHTML="",t.innerHTML=""};function c(e,t){e.addEventListener("click",(()=>{t()}))}function o(e,t){e.addEventListener("keyup",(e=>{"Enter"===e.key&&t()}))}const i=(e,t)=>{e.forEach((e=>{const n=document.createElement("li");n.className="modal-ingredients__list-element",t.appendChild(n);const c=document.createElement("button");c.className="modal-ingredients__list-element-button",n.appendChild(c),c.innerHTML=e.strDrink}))},l=document.querySelector(".wrap__ingredients"),r=document.querySelector(".modal-ingredients__close"),a=document.querySelector(".modal-ingredients"),s=document.querySelector(".modal-ingredients__input"),d=document.querySelector(".modal-ingredients__list"),m=document.querySelector(".modal-ingredients__submit"),u=document.createElement("div"),p=async()=>{n(d,u);const e=await(async e=>{const t=await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${e}`);try{return(await t.json()).drinks||[]}catch(e){return[]}})(s.value);0!==e.length?i(e,d):(u.className="modal-ingredients__list-warning",a.appendChild(u),u.textContent="There is no such ingredient!")};r.addEventListener("click",(()=>{a.style.display="none",n(d,u),s.value=""})),e(l,a),c(m,p),o(a,p);const _=document.querySelector(".wrap__cocktail"),h=document.querySelector(".modal-cocktail__close"),y=document.querySelector(".modal-cocktail"),k=document.querySelector(".modal-cocktail__input"),w=document.querySelector(".modal-cocktail__submit"),q=document.querySelector(".modal-cocktail__list"),v=document.createElement("div"),S=async()=>{n(q,v);const e=await(t=k.value,fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${t}`).then((e=>e.json())).then((e=>e.drinks||[])).catch((e=>[])));var t;0!==e.length?i(e,q):(v.className="modal-ingredients__list-warning",y.appendChild(v),v.textContent="There is no such cocktail!")};h.addEventListener("click",(()=>{y.style.display="none",n(q,v),k.value=""})),e(_,y),c(w,S),o(y,S);const g=document.querySelector(".wrap__all-cocktails"),E=document.querySelector(".modal-all-cocktails__close"),f=document.querySelector(".modal-all-cocktails"),L=document.querySelector(".modal-all-cocktails__list");g.addEventListener("click",(async()=>{const e=await t();i(e,L)})),e(g,f),E.addEventListener("click",(()=>{f.style.display="none"}));const b=(e,t,n,c)=>{for(let n=1;n<16&&null!=e[`strIngredient${n}`];n++){const o=document.createElement("li");o.className="modal-recipe__list-element",t.appendChild(o),o.innerHTML=e[`strIngredient${n}`],c.push(o)}const o=document.createElement("p");o.className="modal-recipe__recipe-info",n.appendChild(o),o.innerHTML=e.strInstructions,c.push(o);const i=document.createElement("img");n.appendChild(i),i.setAttribute("src",`${e.strDrinkThumb}`),c.push(i)},C=document.querySelector(".wrap__random"),T=document.querySelector(".modal-recipe__close"),j=document.querySelector(".modal-recipe"),M=document.querySelector(".modal-recipe__heading"),x=document.querySelector(".modal-recipe__description"),N=document.querySelector(".modal-recipe__list"),$=document.querySelector(".wrap-images__drink"),H=[],D=()=>{$.classList.add("wrap-images__drink--shake"),setTimeout((()=>{$.classList.remove("wrap-images__drink--shake")}),1e3),setTimeout((()=>{j.style.display="flex"}),1100)},I=async()=>{const e=await(async()=>{const e=await t();return e[Math.floor(Math.random()*e.length)]})();M.textContent=e.strDrink;const n=await(c=e.idDrink,fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${c}`).then((e=>e.json())).then((e=>e.drinks[0])));var c;b(n,N,x,H)};C.addEventListener("click",(()=>{D(),I()})),$.addEventListener("click",(()=>{D(),I()})),T.addEventListener("click",(()=>{H.forEach((e=>e.remove())),j.style.display="none"}));const A=document.querySelector(".modal-recipe__close"),z=document.querySelector(".modal-recipe"),B=document.querySelector(".modal-recipe__heading"),F=document.querySelector(".modal-recipe__description"),G=document.querySelector(".modal-recipe__list"),J=[];document.addEventListener("click",(async e=>{if("modal-ingredients__list-element-button"===e.target.className){z.style.display="flex";const t=e.target.innerHTML;B.textContent=t;const n=await(e=>fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${e}`).then((e=>e.json())).then((e=>e.drinks[0])))(t);b(n,G,F,J)}})),A.addEventListener("click",(()=>{z.style.display="none",J.forEach((e=>e.remove()))}))})();